# 繁體中文 Git Commit Message 規範指南

---

## 七條撰寫規則（中文版）

| 編號 | 規則                                           | 說明                                                     |
| ---- | ---------------------------------------------- | -------------------------------------------------------- |
| 1    | 標題與正文之間要以空行分隔                     | 第一行作為摘要（標題），接著空一行，再撰寫正文（若有）。 |
| 2    | 標題限制在 50 字以內                           | 超過 50 字表示內容太冗長，建議拆解或簡化。               |
| 3    | 標題開頭建議大寫（中英混用）                   | 若整句為中文可不強求；若有英文則建議首字母大寫。         |
| 4    | 標題不以句號（"."、"。"）結尾                  | 保持簡潔，不需標點結尾。                                 |
| 5    | 標題使用祈使語氣                               | 像下指令般：「新增」、「修正」、「移除」等。             |
| 6    | 正文每行建議 72 字以內換行                     | 避免過長造成閱讀困難。                                   |
| 7    | 正文解釋「做什麼」與「為什麼」，而非「怎麼做」 | 說明變更動機與影響，而非技術細節。                       |

---

## 約定式 Commit 格式（Conventional Commits 中文版）

### 結構格式：

```
<類型>(<範圍>): <主旨>

<正文（可選）>

<標註（可選，如 BREAKING CHANGE、Issue 編號）>
```

### 類型（Type）範例：

| 類型     | 說明                     |
| -------- | ------------------------ |
| feat     | 新增功能                 |
| fix      | 錯誤修正                 |
| docs     | 文件變更                 |
| style    | 程式碼格式（不影響邏輯） |
| refactor | 程式重構（不影響行為）   |
| perf     | 效能優化                 |
| test     | 測試相關變更             |
| chore    | 例行性維護、建置設定     |
| ci       | CI/CD 流程變更           |
| revert   | 回復先前的 commit        |

---

## 範例

### ✅ 範例 1：新增功能

```
feat(auth): 新增 JWT Refresh Token API

為什麼要加這功能：
- 當 access token 過期但 refresh token 有效時，可申請新 token。
- 減少前端被迫重新登入的機率。

風險／注意事項：
- 若刷新機制沒做完善，可能導致 token 被濫用。
- 前端需要同步更新 token 使用流程。

BREAKING CHANGE: 原本只回傳 access token，改為回傳 access + refresh token。
Closes: #123
```

---

### ✅ 範例 2：修正錯誤

```
fix(user): 修正使用者資料更新時未同步緩存問題

修正內容：
- 在更新完 user 資料後自動清除快取，確保下次讀取為最新內容。
- 在 API 回傳時增加欄位驗證，避免錯誤資料寫入。

關聯 Issue：#456
```

---

### ✅ 範例 3：文件更新

```
docs: 更新 README 中的安裝指引

- 補上 Yarn 安裝步驟。
- 修正 CLI 指令錯誤：`npm run dev` → `npm run start`。
```

---

### ✅ 範例 4：依賴升級

```
chore(deps): 升級部分開發依賴

- @babel/core 從 7.12.0 升級到 7.15.0。
- eslint-plugin-vue 升級到最新版本。
```

---

## Commit 檢查清單

1. 標題與正文之間是否空一行？
2. 標題是否 ≤ 50 字？
3. 標題首字（若為英文）是否大寫？
4. 標題末尾是否沒有句號？
5. 標題是否為祈使語氣？
6. 正文每行是否 ≤ 72 字？
7. 是否解釋了「做什麼」與「為什麼」？
8. 若有破壞性變更，是否標註 BREAKING CHANGE？
9. 是否有關聯 Issue（如 Closes: #xxx）？
10. 類型與範圍是否符合團隊約定？

---

> 參考來源：[Chris Beams - How to Write a Git Commit Message](https://cbea.ms/git-commit/)
